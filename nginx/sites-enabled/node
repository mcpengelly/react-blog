server {

  listen 80;
  server_name localhost;
  access_log /var/log/nginx/nginx-access.log;
  charset utf-8;

  # serving image assets
  location /uploads/  {
      alias /Users/matthewpengelly/Documents/batcave/react-blog/server/assets/img/uploads/;
  }

  client_max_body_size 100m;

  location / {
    proxy_pass http://myapp:9000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
  }
}

# HTTPS server
#
server {
   listen       443 ssl;
   server_name  localhost;

   # ssl_certificate      cert.pem;
   # ssl_certificate_key  cert.key;

   # ssl_session_cache    shared:SSL:1m;
   # ssl_session_timeout  5m;

   # ssl_ciphers  HIGH:!aNULL:!MD5;
   # ssl_prefer_server_ciphers  on;

   location / {
       root   html;
       index  index.html index.htm;
   }
}
include servers/*;
